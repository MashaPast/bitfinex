from logger import appLogger
import websockets
import pytest

URI = "wss://api-pub.bitfinex.com/ws/2"

LIST_OF_ARGVALUES = [("ABSETH"), ("ABSUSD"), ("AGIBTC"), ("AGIETH"), ("AGIUSD"), ("AIDBTC"), ("AIDETH"), ("AIDUSD"), ("AIOBTC"), ("AIOETH"), ("AIOUSD"), ("ALGBTC"), ("ALGUSD"), ("ALGUST"), ("AMPBTC"), ("AMPUSD"), ("AMPUST"), ("ANTBTC"), ("ANTETH"), ("ANTUSD"), ("ASTETH"), ("ASTUSD"), ("ATMBTC"), ("ATMETH"), ("ATMUSD"), ("ATOBTC"), ("ATOETH"), ("ATOUSD"), ("AUCBTC"), ("AUCETH"), ("AUCUSD"), ("AVTBTC"), ("AVTETH"), ("AVTUSD"), ("BABBTC"), ("BABUSD"), ("BABUST"), ("BATBTC"), ("BATETH"), ("BATUSD"), ("BBNETH"), ("BBNUSD"), ("BCIBTC"), ("BCIUSD"), ("BFTBTC"), ("BFTETH"), ("BFTUSD"), ("BNTBTC"), ("BNTETH"), ("BNTUSD"), ("BOXETH"), ("BOXUSD"), ("BSVBTC"), ("BSVUSD"), ("BTC:CNHT"), ("BTCEUR"), ("BTCGBP"), ("BTCJPY"), ("BTCUSD"), ("BTCUST"), ("BTCXCH"), ("BTGBTC"), ("BTGUSD"), ("BTTBTC"), ("BTTUSD"), ("CBTBTC"), ("CBTETH"), ("CBTUSD"), ("CHZUSD"), ("CHZUST"), ("CLOBTC"), ("CLOUSD"), ("CNDBTC"), ("CNDETH"), ("CNDUSD"), ("CNH:CNHT"), ("CNNETH"), ("CNNUSD"), ("CSXETH"), ("CSXUSD"), ("CTXBTC"), ("CTXETH"), ("CTXUSD"), ("DADBTC"), ("DADETH"), ("DADUSD"), ("DAIBTC"), ("DAIETH"), ("DAIUSD"), ("DATBTC"), ("DATETH"), ("DATUSD"), ("DGBBTC"), ("DGBUSD"), ("DGXETH"), ("DGXUSD"), ("DRNETH"), ("DRNUSD"), ("DSHBTC"), ("DSHUSD"), ("DTABTC"), ("DTAETH"), ("DTAUSD"), ("DTHBTC"), ("DTHETH"), ("DTHUSD"), ("DTXUSD"), ("DTXUST"), ("DUSK:BTC"), ("DUSK:USD"), ("EDOBTC"), ("EDOETH"), ("EDOUSD"), ("ELFBTC"), ("ELFETH"), ("ELFUSD"), ("ENJETH"), ("ENJUSD"), ("EOSBTC"), ("EOSETH"), ("EOSEUR"), ("EOSGBP"), ("EOSJPY"), ("EOSUSD"), ("EOSUST"), ("ESSBTC"), ("ESSETH"), ("ESSUSD"), ("ETCBTC"), ("ETCUSD"), ("ETHBTC"), ("ETHEUR"), ("ETHGBP"), ("ETHJPY"), ("ETHUSD"), ("ETHUST"), ("ETPBTC"), ("ETPETH"), ("ETPUSD"), ("EUSETH"), ("EUSUSD"), ("EUTEUR"), ("EUTUSD"), ("EVTUSD"), ("FOAETH"), ("FOAUSD"), ("FSNBTC"), ("FSNETH"), ("FSNUSD"), ("FTTUSD"), ("FTTUST"), ("FUNBTC"), ("FUNETH"), ("FUNUSD"), ("GENETH"), ("GENUSD"), ("GNOETH"), ("GNOUSD"), ("GNTBTC"), ("GNTETH"), ("GNTUSD"), ("GOTETH"), ("GOTEUR"), ("GOTUSD"), ("GSDUSD"), ("GTXUSD"), ("GTXUST"), ("HOTBTC"), ("HOTETH"), ("HOTUSD"), ("IMPETH"), ("IMPUSD"), ("INTETH"), ("INTUSD"), ("IOSBTC"), ("IOSETH"), ("IOSUSD"), ("IOTBTC"), ("IOTETH"), ("IOTEUR"), ("IOTGBP"), ("IOTJPY"), ("IOTUSD"), ("IQXBTC"), ("IQXEOS"), ("IQXUSD"), ("KANUSD"), ("KANUST"), ("KNCBTC"), ("KNCETH"), ("KNCUSD"), ("LEOBTC"), ("LEOEOS"), ("LEOETH"), ("LEOUSD"), ("LEOUST"), ("LOOETH"), ("LOOUSD"), ("LRCBTC"), ("LRCETH"), ("LRCUSD"), ("LTCBTC"), ("LTCUSD"), ("LTCUST"), ("LYMBTC"), ("LYMETH"), ("LYMUSD"), ("MANETH"), ("MANUSD"), ("MGOETH"), ("MGOUSD"), ("MITBTC"), ("MITETH"), ("MITUSD"), ("MKRBTC"), ("MKRDAI"), ("MKRETH"), ("MKRUSD"), ("MLNETH"), ("MLNUSD"), ("MNABTC"), ("MNAETH"), ("MNAUSD"), ("MTNBTC"), ("MTNETH"), ("MTNUSD"), ("NCABTC"), ("NCAETH"), ("NCAUSD"), ("NECBTC"), ("NECETH"), ("NECUSD"), ("NEOBTC"), ("NEOETH"), ("NEOEUR"), ("NEOGBP"), ("NEOJPY"), ("NEOUSD"), ("NIOETH"), ("NIOUSD"), ("ODEBTC"), ("ODEETH"), ("ODEUSD"), ("OKBBTC"), ("OKBETH"), ("OKBUSD"), ("OKBUST"), ("OMGBTC"), ("OMGDAI"), ("OMGETH"), ("OMGUSD"), ("OMNBTC"), ("OMNUSD"), ("ONLETH"), ("ONLUSD"), ("ORSBTC"), ("ORSETH"), ("ORSUSD"), ("PAIBTC"), ("PAIUSD"), ("PASETH"), ("PASUSD"), ("PAXUSD"), ("PAXUST"), ("PNKETH"), ("PNKUSD"), ("POABTC"), ("POAETH"), ("POAUSD"), ("POYBTC"), ("POYETH"), ("POYUSD"), ("QSHBTC"), ("QSHETH"), ("QSHUSD"), ("QTMBTC"), ("QTMETH"), ("QTMUSD"), ("RBTBTC"), ("RBTUSD"), ("RCNBTC"), ("RCNETH"), ("RCNUSD"), ("RDNBTC"), ("RDNETH"), ("RDNUSD"), ("REPBTC"), ("REPETH"), ("REPUSD"), ("REQBTC"), ("REQETH"), ("REQUSD"), ("RIFBTC"), ("RIFUSD"), ("RLCBTC"), ("RLCETH"), ("RLCUSD"), ("RRBUSD"), ("RRBUST"), ("RRTBTC"), ("RRTUSD"), ("RTEETH"), ("RTEUSD"), ("SANBTC"), ("SANETH"), ("SANUSD"), ("SCRETH"), ("SCRUSD"), ("SEEBTC"), ("SEEETH"), ("SEEUSD"), ("SENBTC"), ("SENETH"), ("SENUSD"), ("SNGBTC"), ("SNGETH"), ("SNGUSD"), ("SNTBTC"), ("SNTETH"), ("SNTUSD"), ("SPKBTC"), ("SPKETH"), ("SPKUSD"), ("STJBTC"), ("STJETH"), ("STJUSD"), ("SWMETH"), ("SWMUSD"), ("TKNETH"), ("TKNUSD"), ("TNBBTC"), ("TNBETH"), ("TNBUSD"), ("TRIETH"), ("TRIUSD"), ("TRXBTC"), ("TRXETH"), ("TRXEUR"), ("TRXGBP"), ("TRXJPY"), ("TRXUSD"), ("TSDUSD"), ("TSDUST"), ("UDCUSD"), ("UDCUST"), ("UFRETH"), ("UFRUSD"), ("UOSBTC"), ("UOSUSD"), ("USKBTC"), ("USKEOS"), ("USKETH"), ("USKUSD"), ("USKUST"), ("UST:CNHT"), ("USTUSD"), ("UTKBTC"), ("UTKETH"), ("UTKUSD"), ("UTNETH"), ("UTNUSD"), ("VEEBTC"), ("VEEETH"), ("VEEUSD"), ("VETBTC"), ("VETETH"), ("VETUSD"), ("VLDETH"), ("VLDUSD"), ("VSYBTC"), ("VSYUSD"), ("WAXBTC"), ("WAXETH"), ("WAXUSD"), ("WBTETH"), ("WBTUSD"), ("WLOUSD"), ("WLOXLM"), ("WPRBTC"), ("WPRETH"), ("WPRUSD"), ("WTCETH"), ("WTCUSD"), ("XAUT:BTC"), ("XAUT:USD"), ("XAUT:UST"), ("XCHETH"), ("XCHUSD"), ("XLMBTC"), ("XLMETH"), ("XLMEUR"), ("XLMGBP"), ("XLMJPY"), ("XLMUSD"), ("XMRBTC"), ("XMRUSD"), ("XRAETH"), ("XRAUSD"), ("XRPBTC"), ("XRPUSD"), ("XTZBTC"), ("XTZUSD"), ("XVGBTC"), ("XVGETH"), ("XVGEUR"), ("XVGGBP"), ("XVGJPY"), ("XVGUSD"), ("YGGETH"), ("YGGUSD"), ("YYWBTC"), ("YYWETH"), ("YYWUSD"), ("ZBTUSD"), ("ZBTUST"), ("ZCNBTC"), ("ZCNETH"), ("ZCNUSD"), ("ZECBTC"), ("ZECUSD"), ("ZILBTC"), ("ZILETH"), ("ZILUSD"), ("ZRXBTC"), ("ZRXDAI"), ("ZRXETH"), ("ZRXUSD")]

LIST_FOR_STATUS = ['ABSF0:ETHF0', 'ABSF0:USDF0', 'AGIF0:BTCF0', 'AGIF0:ETHF0', 'AGIF0:USDF0', 'AIDF0:BTCF0', 'AIDF0:ETHF0', 'AIDF0:USDF0', 'AIOF0:BTCF0', 'AIOF0:ETHF0', 'AIOF0:USDF0', 'ALGF0:BTCF0', 'ALGF0:USDF0', 'ALGF0:USTF0', 'AMPF0:BTCF0', 'AMPF0:USDF0', 'AMPF0:USTF0', 'ANTF0:BTCF0', 'ANTF0:ETHF0', 'ANTF0:USDF0', 'ASTF0:ETHF0', 'ASTF0:USDF0', 'ATMF0:BTCF0', 'ATMF0:ETHF0', 'ATMF0:USDF0', 'ATOF0:BTCF0', 'ATOF0:ETHF0', 'ATOF0:USDF0', 'AUCF0:BTCF0', 'AUCF0:ETHF0', 'AUCF0:USDF0', 'AVTF0:BTCF0', 'AVTF0:ETHF0', 'AVTF0:USDF0', 'BABF0:BTCF0', 'BABF0:USDF0', 'BABF0:USTF0', 'BATF0:BTCF0', 'BATF0:ETHF0', 'BATF0:USDF0', 'BBNF0:ETHF0', 'BBNF0:USDF0', 'BCIF0:BTCF0', 'BCIF0:USDF0', 'BFTF0:BTCF0', 'BFTF0:ETHF0', 'BFTF0:USDF0', 'BNTF0:BTCF0', 'BNTF0:ETHF0', 'BNTF0:USDF0', 'BOXF0:ETHF0', 'BOXF0:USDF0', 'BSVF0:BTCF0', 'BSVF0:USDF0', 'BTCF0::CNHTF0', 'BTCF0:EURF0', 'BTCF0:GBPF0', 'BTCF0:JPYF0', 'BTCF0:USDF0', 'BTCF0:USTF0', 'BTCF0:XCHF0', 'BTGF0:BTCF0', 'BTGF0:USDF0', 'BTTF0:BTCF0', 'BTTF0:USDF0', 'CBTF0:BTCF0', 'CBTF0:ETHF0', 'CBTF0:USDF0', 'CHZF0:USDF0', 'CHZF0:USTF0', 'CLOF0:BTCF0', 'CLOF0:USDF0', 'CNDF0:BTCF0', 'CNDF0:ETHF0', 'CNDF0:USDF0', 'CNHF0::CNHTF0', 'CNNF0:ETHF0', 'CNNF0:USDF0', 'CSXF0:ETHF0', 'CSXF0:USDF0', 'CTXF0:BTCF0', 'CTXF0:ETHF0', 'CTXF0:USDF0', 'DADF0:BTCF0', 'DADF0:ETHF0', 'DADF0:USDF0', 'DAIF0:BTCF0', 'DAIF0:ETHF0', 'DAIF0:USDF0', 'DATF0:BTCF0', 'DATF0:ETHF0', 'DATF0:USDF0', 'DGBF0:BTCF0', 'DGBF0:USDF0', 'DGXF0:ETHF0', 'DGXF0:USDF0', 'DRNF0:ETHF0', 'DRNF0:USDF0', 'DSHF0:BTCF0', 'DSHF0:USDF0', 'DTAF0:BTCF0', 'DTAF0:ETHF0', 'DTAF0:USDF0', 'DTHF0:BTCF0', 'DTHF0:ETHF0', 'DTHF0:USDF0', 'DTXF0:USDF0', 'DTXF0:USTF0', 'DUSF0:K:BTCF0', 'DUSF0:K:USDF0', 'EDOF0:BTCF0', 'EDOF0:ETHF0', 'EDOF0:USDF0', 'ELFF0:BTCF0', 'ELFF0:ETHF0', 'ELFF0:USDF0', 'ENJF0:ETHF0', 'ENJF0:USDF0', 'EOSF0:BTCF0', 'EOSF0:ETHF0', 'EOSF0:EURF0', 'EOSF0:GBPF0', 'EOSF0:JPYF0', 'EOSF0:USDF0', 'EOSF0:USTF0', 'ESSF0:BTCF0', 'ESSF0:ETHF0', 'ESSF0:USDF0', 'ETCF0:BTCF0', 'ETCF0:USDF0', 'ETHF0:BTCF0', 'ETHF0:EURF0', 'ETHF0:GBPF0', 'ETHF0:JPYF0', 'ETHF0:USDF0', 'ETHF0:USTF0', 'ETPF0:BTCF0', 'ETPF0:ETHF0', 'ETPF0:USDF0', 'EUSF0:ETHF0', 'EUSF0:USDF0', 'EUTF0:EURF0', 'EUTF0:USDF0', 'EVTF0:USDF0', 'FOAF0:ETHF0', 'FOAF0:USDF0', 'FSNF0:BTCF0', 'FSNF0:ETHF0', 'FSNF0:USDF0', 'FTTF0:USDF0', 'FTTF0:USTF0', 'FUNF0:BTCF0', 'FUNF0:ETHF0', 'FUNF0:USDF0', 'GENF0:ETHF0', 'GENF0:USDF0', 'GNOF0:ETHF0', 'GNOF0:USDF0', 'GNTF0:BTCF0', 'GNTF0:ETHF0', 'GNTF0:USDF0', 'GOTF0:ETHF0', 'GOTF0:EURF0', 'GOTF0:USDF0', 'GSDF0:USDF0', 'GTXF0:USDF0', 'GTXF0:USTF0', 'HOTF0:BTCF0', 'HOTF0:ETHF0', 'HOTF0:USDF0', 'IMPF0:ETHF0', 'IMPF0:USDF0', 'INTF0:ETHF0', 'INTF0:USDF0', 'IOSF0:BTCF0', 'IOSF0:ETHF0', 'IOSF0:USDF0', 'IOTF0:BTCF0', 'IOTF0:ETHF0', 'IOTF0:EURF0', 'IOTF0:GBPF0', 'IOTF0:JPYF0', 'IOTF0:USDF0', 'IQXF0:BTCF0', 'IQXF0:EOSF0', 'IQXF0:USDF0', 'KANF0:USDF0', 'KANF0:USTF0', 'KNCF0:BTCF0', 'KNCF0:ETHF0', 'KNCF0:USDF0', 'LEOF0:BTCF0', 'LEOF0:EOSF0', 'LEOF0:ETHF0', 'LEOF0:USDF0', 'LEOF0:USTF0', 'LOOF0:ETHF0', 'LOOF0:USDF0', 'LRCF0:BTCF0', 'LRCF0:ETHF0', 'LRCF0:USDF0', 'LTCF0:BTCF0', 'LTCF0:USDF0', 'LTCF0:USTF0', 'LYMF0:BTCF0', 'LYMF0:ETHF0', 'LYMF0:USDF0', 'MANF0:ETHF0', 'MANF0:USDF0', 'MGOF0:ETHF0', 'MGOF0:USDF0', 'MITF0:BTCF0', 'MITF0:ETHF0', 'MITF0:USDF0', 'MKRF0:BTCF0', 'MKRF0:DAIF0', 'MKRF0:ETHF0', 'MKRF0:USDF0', 'MLNF0:ETHF0', 'MLNF0:USDF0', 'MNAF0:BTCF0', 'MNAF0:ETHF0', 'MNAF0:USDF0', 'MTNF0:BTCF0', 'MTNF0:ETHF0', 'MTNF0:USDF0', 'NCAF0:BTCF0', 'NCAF0:ETHF0', 'NCAF0:USDF0', 'NECF0:BTCF0', 'NECF0:ETHF0', 'NECF0:USDF0', 'NEOF0:BTCF0', 'NEOF0:ETHF0', 'NEOF0:EURF0', 'NEOF0:GBPF0', 'NEOF0:JPYF0', 'NEOF0:USDF0', 'NIOF0:ETHF0', 'NIOF0:USDF0', 'ODEF0:BTCF0', 'ODEF0:ETHF0', 'ODEF0:USDF0', 'OKBF0:BTCF0', 'OKBF0:ETHF0', 'OKBF0:USDF0', 'OKBF0:USTF0', 'OMGF0:BTCF0', 'OMGF0:DAIF0', 'OMGF0:ETHF0', 'OMGF0:USDF0', 'OMNF0:BTCF0', 'OMNF0:USDF0', 'ONLF0:ETHF0', 'ONLF0:USDF0', 'ORSF0:BTCF0', 'ORSF0:ETHF0', 'ORSF0:USDF0', 'PAIF0:BTCF0', 'PAIF0:USDF0', 'PASF0:ETHF0', 'PASF0:USDF0', 'PAXF0:USDF0', 'PAXF0:USTF0', 'PNKF0:ETHF0', 'PNKF0:USDF0', 'POAF0:BTCF0', 'POAF0:ETHF0', 'POAF0:USDF0', 'POYF0:BTCF0', 'POYF0:ETHF0', 'POYF0:USDF0', 'QSHF0:BTCF0', 'QSHF0:ETHF0', 'QSHF0:USDF0', 'QTMF0:BTCF0', 'QTMF0:ETHF0', 'QTMF0:USDF0', 'RBTF0:BTCF0', 'RBTF0:USDF0', 'RCNF0:BTCF0', 'RCNF0:ETHF0', 'RCNF0:USDF0', 'RDNF0:BTCF0', 'RDNF0:ETHF0', 'RDNF0:USDF0', 'REPF0:BTCF0', 'REPF0:ETHF0', 'REPF0:USDF0', 'REQF0:BTCF0', 'REQF0:ETHF0', 'REQF0:USDF0', 'RIFF0:BTCF0', 'RIFF0:USDF0', 'RLCF0:BTCF0', 'RLCF0:ETHF0', 'RLCF0:USDF0', 'RRBF0:USDF0', 'RRBF0:USTF0', 'RRTF0:BTCF0', 'RRTF0:USDF0', 'RTEF0:ETHF0', 'RTEF0:USDF0', 'SANF0:BTCF0', 'SANF0:ETHF0', 'SANF0:USDF0', 'SCRF0:ETHF0', 'SCRF0:USDF0', 'SEEF0:BTCF0', 'SEEF0:ETHF0', 'SEEF0:USDF0', 'SENF0:BTCF0', 'SENF0:ETHF0', 'SENF0:USDF0', 'SNGF0:BTCF0', 'SNGF0:ETHF0', 'SNGF0:USDF0', 'SNTF0:BTCF0', 'SNTF0:ETHF0', 'SNTF0:USDF0', 'SPKF0:BTCF0', 'SPKF0:ETHF0', 'SPKF0:USDF0', 'STJF0:BTCF0', 'STJF0:ETHF0', 'STJF0:USDF0', 'SWMF0:ETHF0', 'SWMF0:USDF0', 'TKNF0:ETHF0', 'TKNF0:USDF0', 'TNBF0:BTCF0', 'TNBF0:ETHF0', 'TNBF0:USDF0', 'TRIF0:ETHF0', 'TRIF0:USDF0', 'TRXF0:BTCF0', 'TRXF0:ETHF0', 'TRXF0:EURF0', 'TRXF0:GBPF0', 'TRXF0:JPYF0', 'TRXF0:USDF0', 'TSDF0:USDF0', 'TSDF0:USTF0', 'UDCF0:USDF0', 'UDCF0:USTF0', 'UFRF0:ETHF0', 'UFRF0:USDF0', 'UOSF0:BTCF0', 'UOSF0:USDF0', 'USKF0:BTCF0', 'USKF0:EOSF0', 'USKF0:ETHF0', 'USKF0:USDF0', 'USKF0:USTF0', 'USTF0::CNHTF0', 'USTF0:USDF0', 'UTKF0:BTCF0', 'UTKF0:ETHF0', 'UTKF0:USDF0', 'UTNF0:ETHF0', 'UTNF0:USDF0', 'VEEF0:BTCF0', 'VEEF0:ETHF0', 'VEEF0:USDF0', 'VETF0:BTCF0', 'VETF0:ETHF0', 'VETF0:USDF0', 'VLDF0:ETHF0', 'VLDF0:USDF0', 'VSYF0:BTCF0', 'VSYF0:USDF0', 'WAXF0:BTCF0', 'WAXF0:ETHF0', 'WAXF0:USDF0', 'WBTF0:ETHF0', 'WBTF0:USDF0', 'WLOF0:USDF0', 'WLOF0:XLMF0', 'WPRF0:BTCF0', 'WPRF0:ETHF0', 'WPRF0:USDF0', 'WTCF0:ETHF0', 'WTCF0:USDF0', 'XAUF0:T:BTCF0', 'XAUF0:T:USDF0', 'XAUF0:T:USTF0', 'XCHF0:ETHF0', 'XCHF0:USDF0', 'XLMF0:BTCF0', 'XLMF0:ETHF0', 'XLMF0:EURF0', 'XLMF0:GBPF0', 'XLMF0:JPYF0', 'XLMF0:USDF0', 'XMRF0:BTCF0', 'XMRF0:USDF0', 'XRAF0:ETHF0', 'XRAF0:USDF0', 'XRPF0:BTCF0', 'XRPF0:USDF0', 'XTZF0:BTCF0', 'XTZF0:USDF0', 'XVGF0:BTCF0', 'XVGF0:ETHF0', 'XVGF0:EURF0', 'XVGF0:GBPF0', 'XVGF0:JPYF0', 'XVGF0:USDF0', 'YGGF0:ETHF0', 'YGGF0:USDF0', 'YYWF0:BTCF0', 'YYWF0:ETHF0', 'YYWF0:USDF0', 'ZBTF0:USDF0', 'ZBTF0:USTF0', 'ZCNF0:BTCF0', 'ZCNF0:ETHF0', 'ZCNF0:USDF0', 'ZECF0:BTCF0', 'ZECF0:USDF0', 'ZILF0:BTCF0', 'ZILF0:ETHF0', 'ZILF0:USDF0', 'ZRXF0:BTCF0', 'ZRXF0:DAIF0', 'ZRXF0:ETHF0', 'ZRXF0:USDF0']


def create_list_for_status():
    for el in LIST_OF_ARGVALUES:
        new = el[:3] + 'F0:' + el[3:] + 'F0'
        LIST_FOR_STATUS.append(new)

    print(LIST_FOR_STATUS)


def check_type(message_to_check):
    list_of_types = []
    for i in range(1, len(message_to_check)):
        for list in message_to_check[i]:
            for number in list:
                list_of_types.append(number)

    return list_of_types


def check_type_for_ticker(message_to_check):
    list_of_types = []
    for i in range(0, len(message_to_check)):
        first_field_type = type(message_to_check[0])
        list_of_types.append(first_field_type)
        for el in message_to_check[1]:
            field_type_in_list = (type(el))
            list_of_types.append(field_type_in_list)
    return list_of_types
